<html><head><script>
if (window.opener){

	window.console = window.opener.console;
	console.log("child");
	window.onload = function (){
		console.log("child loaded");
	};

} else {

	console.log("parent");

	var win = window.open("about:blank");

	var timeOrigin = Number(new Date());
	var doc = win.document;
	var con = window.console;
	window.console = {
		log: function (){
			var args = Array.prototype.slice.call(arguments);
			args.push(win.document === doc?"old document":"new document");
			args.push(win.document.readyState);
			args.push((new Date()-timeOrigin) + " msecs");
			con.log.apply(con, args);
		}
	};


	win.addEventListener("unload", function (){
		console.log("child unloaded");
		setTimeout(function (){
			console.log("child unloaded + next tick");
		},0);
	});

	win.document.location.href = window.location.href;
	console.log("child URI changed");

}
</script>
</head>
<body>
measuring {unload + next tick} delay by changing a child window location <br/>
it is different by different browsers, Firefox has the lowest, while Opera the highest <br/>
it is important, because some of the browsers can capture a loading page in a child window, while others cannot <br/>
<a href="https://github.com/inf3rno/inf3rno.github.io/blob/master/testing-scripts/measure-unload-next-tick-delay.js.html">here is the code</a>
</body>
</html>
